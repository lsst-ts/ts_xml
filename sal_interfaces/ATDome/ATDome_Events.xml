<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="http://lsst-sal.tuc.noao.edu/schema/SALEventSet.xsl"?>
<SALEventSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://lsst-sal.tuc.noao.edu/schema/SALEventSet.xsd">
    <Enumeration>AzimuthState_NotInMotion,AzimuthState_MovingCW,AzimuthState_MovingCCW</Enumeration>
    <Enumeration>ShutterDoorState_Closed,ShutterDoorState_Opened,ShutterDoorState_PartiallyOpened,ShutterDoorState_Opening,ShutterDoorState_Closing</Enumeration>
    <!-- Standard events --> 
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_heartbeat</EFDB_Topic>
        <Alias>heartbeat</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Heartbeat event. -->
        <item>
            <EFDB_Name>heartbeat</EFDB_Name>
            <Description>Ignore this field.</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <!-- Actuator states -->
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_azimuthState</EFDB_Topic>
        <Alias>azimuthState</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- State of azimuth drive. -->
        <item>
            <EFDB_Name>state</EFDB_Name>
            <Description/>
            <!-- Enumeration: AzimuthState -->
            <IDL_Type>long</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>homing</EFDB_Name>
            <Description>Is azimuth being homed?</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_dropoutDoorState</EFDB_Topic>
        <Alias>dropoutDoorState</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- State of the dropout shutter door. -->
        <item>
            <EFDB_Name>state</EFDB_Name>
            <Description/>
            <!-- Enumeration: ShutterDoorState -->
            <IDL_Type>long</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_mainDoorState</EFDB_Topic>
        <Alias>mainDoorState</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- State of the main shutter door. -->
        <item>
            <EFDB_Name>state</EFDB_Name>
            <Description/>
            <!-- Enumeration: ShutterDoorState -->
            <IDL_Type>long</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_azimuthInPosition</EFDB_Topic>
        <Alias>azimuthInPosition</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Is the dome azimuth in the commanded position? Note: this will be false when the CSC starts up until a position is commanded. -->
        <item>
            <EFDB_Name>inPosition</EFDB_Name>
            <Description/>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_shutterInPosition</EFDB_Topic>
        <Alias>shutterInPosition</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Are the shutter doors in their commanded positions? -->
        <item>
            <EFDB_Name>inPosition</EFDB_Name>
            <Description>Are both shutter doors in position? Note: this will be false when the CSC starts up until a position is commanded for both doors.</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_allAxesInPosition</EFDB_Topic>
        <Alias>allAxesInPosition</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Are all axes (azimuth and both shutter doors) in position? -->
        <item>
            <EFDB_Name>inPosition</EFDB_Name>
            <Description/>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <!-- Trouble states -->
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_emergencyStop</EFDB_Topic>
        <Alias>emergencyStop</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Has the emergency stop button been activated? -->
        <item>
            <EFDB_Name>active</EFDB_Name>
            <Description/>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_scbLink</EFDB_Topic>
        <Alias>scbLink</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Can the main controller box (MCB) communicate with the shutter control box (SCB)? -->
        <item>
            <EFDB_Name>active</EFDB_Name>
            <Description/>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <!-- Configuration -->
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_settingsAppliedDomeController</EFDB_Topic>
        <Alias>settingsAppliedDomeController</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Settings internal to the ATDome TCP/IP controller. -->
        <item>
            <EFDB_Name>rainSensorEnabled</EFDB_Name>
            <Description>Is the rain/snow sensor enabled?</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>cloudSensorEnabled</EFDB_Name>
            <Description>Is the cloud sensor enabled?</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>tolerance</EFDB_Name>
            <Description>A request to move less than this amount in azimuth is ignored.</Description>
            <IDL_Type>float</IDL_Type>
            <Units>deg</Units>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>homeAzimuth</EFDB_Name>
            <Description>Azimuth position of the home switch.</Description>
            <IDL_Type>float</IDL_Type>
            <Units>deg</Units>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>highSpeedDistance</EFDB_Name>
            <Description>The minimum distance in azimuth that the dome must move to invoke high speed motion.</Description>
            <IDL_Type>float</IDL_Type>
            <Units>deg</Units>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>watchdogTimer</EFDB_Name>
            <Description>The time interval between loss of communication between the shutter control box (SCB) and main control box (MCB) and the SCB closing the shutter.</Description>
            <IDL_Type>float</IDL_Type>
            <Units>sec</Units>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>reversalDelay</EFDB_Name>
            <Description>The delay between reversing motor directions for the shutter doors, where 0 less than t and t is less or equal than 6 seconds. For a 240 VAC system this parameter can be set to 0.0.</Description>
            <IDL_Type>float</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>autoShutdownEnabled</EFDB_Name>
            <Description>Is automatic closing of the shutter enabled? If enabled then the shutter will be closed if rain, snow or clouds are detected, or if the shutter control box (SCB) loses radio contact with the main control box (MCB).</Description>
            <IDL_Type>boolean</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
    </SALEvent>
    <SALEvent>
        <Subsystem>ATDome</Subsystem>
        <Version>3.8.2</Version>
        <Author/>
        <EFDB_Topic>ATDome_logevent_settingsAppliedDomeTcp</EFDB_Topic>
        <Alias>settingsAppliedDomeTcp</Alias>
        <Explanation>http://sal.lsst.org</Explanation>
        <!-- Settings related to communication between the ATDome CSC and the ATDome TCP/IP controller. -->
        <item>
            <EFDB_Name>host</EFDB_Name>
            <Description>Host name of the ATDome TCP/IP controller.</Description>
            <IDL_Type>string</IDL_Type>
            <IDL_Size>1</IDL_Size>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>port</EFDB_Name>
            <Description>Port number of the ATDome TCP/IP controller.</Description>
            <IDL_Type>long</IDL_Type>
            <Units/>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>readTimeout</EFDB_Name>
            <Description/>
            <IDL_Type>float</IDL_Type>
            <Units>sec</Units>
            <Count>1</Count>
        </item>
        <item>
            <EFDB_Name>connectionTimeout</EFDB_Name>
            <Description/>
            <IDL_Type>float</IDL_Type>
            <Units>sec</Units>
            <Count>1</Count>
        </item>
    </SALEvent>
</SALEventSet>
